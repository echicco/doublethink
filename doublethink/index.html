<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Doublethink</title>
    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="css/main-desktop.css">
    <link rel="stylesheet" type="text/css" href="css/topics.css">
    <!-- Additional fonts -->
    <link href='https://fonts.googleapis.com/css?family=Rubik:400,300italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Playfair+Display+SC' rel='stylesheet' type='text/css'>
    <!-- JS libs -->
    <script src="js/jquery-3.0.0.min.js"></script>
    <script src="js/doublethink.js"></script>
    <script type="text/javascript">
        <!--
        if (screen.width <= 800) {
            window.location = "http://127.0.0.1/doublethink/doublethink/mobile";
        }
        //-->
    </script>
</head>
<body>
    <header></header>
    <nav></nav>

    <div id="main-wrapper">
        <section id="left-col">
            <noscript>
                <span class="notice error">Questo sito necessita che Javascript sia abilitato per poter funzionare.</span>
            </noscript>
            <div id="post-wrapper">

            </div>
        </section>

        <aside id="right-col">
            <input type="text" name="author" id="author" placeholder="Author" />
        </aside>
    </div>

    <footer></footer>
    <script>
        function preloadPosts(limit) {
            Doublethink.fetchLatestPostIDs(limit, function(ids) {
                Doublethink.fetchPosts(ids, function(posts) {
                    for(post of posts) {
                        Doublethink.appendPost(Doublethink.createPost(post));
                    }
                });
            });
        }

        preloadPosts(10);
    </script>
</body>
</html>